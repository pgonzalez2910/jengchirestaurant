"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtwbGR6d2xmdGt2ampudGdzcXh4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY2MzE5NzAsImV4cCI6MjA2MjIwNzk3MH0.qnWbOQv2RLPsIyO-oRwQkAN2VhmmdhTBt46SweUsLbs";




# Put your project's anon key here (the same one you use in the frontend)
$ANON = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtwbGR6d2xmdGt2ampudGdzcXh4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY2MzE5NzAsImV4cCI6MjA2MjIwNzk3MH0.qnWbOQv2RLPsIyO-oRwQkAN2VhmmdhTBt46SweUsLbs";
  # your real anon key

supabase functions invoke send-email `
  --project-ref kpldzwlftkvjjntgsqxx `
  --headers "Authorization: Bearer $ANON" `
  --headers "Content-Type: application/json" `
  --data @'
{
  "to": "admin@jengchirestaurant.com",
  "vendor": "General List",
  "orderDate": "2025-09-01T18:00:00Z",
  "items": [
    {"name": "Noodles", "quantity": 10},
    {"name": "Soy Sauce", "quantity": 5}
  ]
}
'@






const now = new Date();
const offset = -6; // CST is UTC-6 (or -5 for CDT during daylight saving)
const localDate = new Date(now.getTime() + offset * 60 * 60 * 1000);

await supabaseClient.from("submitted_orders").insert([{
  order_date: localDate.toISOString(),  // Will look like CST but saved in UTC
  ...
}]);




https://kpldzwlftkvjjntgsqxx.supabase.co/functions/v1/send-email